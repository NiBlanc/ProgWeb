extends layout
block main
    div.container-sm.bg-light
        div.row
            div.col
                div.header
                    nav.d-flex.justify-content-between.align-items-center
                        h3.text-muted.mr-auto.p-2=post.cat_name
                        form(action="../post/create" method="GET")
                            input(type="Submit" value="Nouvel article")                      
        div.row
            div.col
                div.bg-light.p-5
                    div.container
                        h1.text-center=post.name
                    div.container
                        span.badge.bg-primary=post.login
                        span.badge.bg-secondary=post.post_date
                            |   UTC
                        span.badge.bg-primary=post.votes
                            |   Votes
                    div.container
                                           
                        .btn-group(role='group' aria-label='Basic example')
                            form(action=("../post/"+post.id+"/upvote") method="POST")
                                button.btn.btn-primary(type='submit') Upvote
                            form(action=("../post/"+post.id+"/unvote") method="POST")
                                button.btn.btn-primary(type='submit') Unvote
                            form(action=("../post/"+post.id+"/downvote") method="POST")
                                button.btn.btn-primary(type='submit') Downvote
                    div.container
                        p=post.content
            div.col
                div.row.bg-light.p-5
                    form(action=("../post/"+post.id+"/comment") method="POST")
                        textarea.form-control(id="comment" name="comment" placeholder="Commentaire" style="height: 250px")
                        div
                            button.btn.btn-primary.btn-lg(type='Submit' style="height: 50px") Commenter
        div.row
            div.col
                div.bg-light.p-5
                    div.row.mt-5
                        h1 Commentaires
                        if comm
                            each index in table
                                div.container
                                    span.badge.rounded-pill.bg-primary=comm[index].login
                                    span.badge.rounded-pill.bg-secondary=comm[index].com_date
                                        |   UTC
                                    p=comm[index].content                    