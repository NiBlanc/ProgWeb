extends layout
block main
    div.container-sm.bg-light
        div.row
            div.col
                div.header
                    nav.d-flex.justify-content-between.align-items-center
                        form(method='get' action='../')
                            button.btn.btn-primary.btn-lg(type='submit')=post.cat_name
                        form(action="../post/create" method="GET")
                            input(type="Submit" value="Nouvel article")                      
        div.row
            div.col
                div.bg-light.p-5
                    div.container
                        h1.text-center=post.name
                    .d-flex.justify-content-center
                        div.container
                            span.badge.rounded-pill.bg-secondary=post.login
                            span.badge.bg-secondary=post.post_date
                                |   UTC
                            h3.span.badge.bg-secondary=post.votes
                                |   Votes
                        div.container                                   
                            .btn-group(role='group' aria-label='Basic example')
                                form(action=("../post/"+post.id+"/upvote") method="POST")
                                    button.btn.btn-primary.btn-sm(type='submit') Upvote
                                form(action=("../post/"+post.id+"/unvote") method="POST")
                                    button.btn.btn-primary.btn-sm(type='submit') Unvote
                                form(action=("../post/"+post.id+"/downvote") method="POST")
                                    button.btn.btn-primary.btn-sm(type='submit') Downvote
                    div.container
                        p=post.content
            div.col
                div.row.bg-light.p-5
                    form(action=("../post/"+post.id+"/comment") method="POST")
                        textarea.form-control(id="comment" name="comment" placeholder="Commentaire" style="height: 250px")
                        div
                            button.btn.btn-primary.btn-lg(type='Submit' style="height: 50px") Commenter
        div.row
            div.col
                div.bg-light.p-5
                    div.row.mt-5
                        h1 Commentaires
                        if comm
                            each test,index in comm
                                div.container.p-2
                                    span.badge.rounded-pill.bg-secondary=comm[index].login
                                    span.badge.bg-secondary=comm[index].com_date
                                        |   UTC
                                    h3.span.badge.bg-secondary=comm[index].votes
                                        |   Votes                                 
                                    .btn-group(role='group' aria-label='Basic example')
                                        form(action=("../post/"+post.id+"/upvote") method="POST")
                                            button.btn.btn-primary.btn-sm(type='submit') Upvote
                                        form(action=("../post/"+post.id+"/unvote") method="POST")
                                            button.btn.btn-primary.btn-sm(type='submit') Unvote
                                        form(action=("../post/"+post.id+"/downvote") method="POST")
                                            button.btn.btn-primary.btn-sm(type='submit') Downvote
                                    p=comm[index].content                    